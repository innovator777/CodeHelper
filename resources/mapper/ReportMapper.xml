<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  
  <mapper namespace="codehelper.web.servlet.store.mapper.ReportMapper">
  
  <select id="selectAll" resultType="Report">
  	select
  	rId AS id,
  	rContents AS contents,
  	rDate AS date,
  	rCheck AS check,
  	qId AS questionId,
  	aId AS answerId
  	from report_tb
  </select>
  
  <insert id="insert" parameterType="Report" useGeneratedKeys="true" keyProperty="id">
		<selectKey keyProperty="id" resultType="int" order="BEFORE">
			select report_seq.nextval from dual
		</selectKey>
		insert into report_tb(rId, rContents, rDate, rCheck, qId, aId)
		values
		(#{id}, #{contents}, #{date}, #{check}, #{questionId}, #{answerId})
	</insert>

	<update id="update" parameterType="Report">
		update report_tb set
		rContents = #{contents},
		rDate = #{date},
		rCheck = #{check},
		qId = #{questionId},
		aId = #{answerId}
		where qId = #{id}
	</update>
  </mapper>